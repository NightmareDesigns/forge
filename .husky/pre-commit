#!/bin/sh
# Pre-commit hook: run npm audit to catch vulnerable dependencies before commit

set -e

echo "ğŸ”’ Checking for vulnerable dependencies..."
npm audit --audit-level=moderate

if [ $? -eq 0 ]; then
  echo "âœ… Audit passed. Proceeding with commit."
  exit 0
else
  echo "âŒ Audit found vulnerabilities. Commit blocked."
  echo "Run 'npm audit' for details and 'npm audit fix' to resolve."
  exit 1
fi
